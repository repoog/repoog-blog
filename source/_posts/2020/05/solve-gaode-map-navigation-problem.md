---
title: 解决高德地图导航失灵问题
date: 2020-05-28 23:39:15
author: repoog
excerpt: 在安卓手机上遇到奇怪的高德地图导航失灵的问题，始终提示信号弱，无法实时定位自己的坐标。在反复尝试之后，发现需要对于手机中的AGPS数据进行重新加载。
comments: true
tags:
  - AGPS
  - GPS信号
  - 导航
  - 高德地图
  - 手机导航
categories:
  - 疑难杂症
---

上周末早上，带儿子去4S店保养车，因为新址没去过且较远，高德地图设定目的地开启导航，开车前给儿子止哭把手机给他看了一会儿。

刚上路拐了几个弯，没听到导航的提示音，有点奇怪，把手机从儿子手中哄过来一看，高德地图导航的定位竟然还在出发点，右上角提示信号弱。GPS信号弱的情况下，定位会有延时，以至于过了该右拐路口，导航才会提示“右拐”。最终在4S店附近绕了几个圈之后，儿子醒了，没能成行。

一开始怀疑是儿子动了高德地图的什么设置，但他除了“上报”事故、施工、拥堵以及给老婆微信发了“报平安”之外，没有任何异常。

回到家换老婆手机打开高德地图试了下，同样显示GPS信号弱，以为是高德地图问题，微博上搜了一圈，发现当天没有人反馈，不像是高德地图的问题。下载腾讯地图，同样目的地的导航，显示信号强，与手机无关，应该还是高德地图的问题。

第二天再打开高德地图，开始导航，依然显示信号弱，而使用腾讯地图导航，多等待一段时间，同样显示信号弱。GPS信号弱是持续一段时间无法获取高精度定位，高德地图是持续10秒无法获取50m精度的定位，而腾讯地图的判断时间要大于10秒。这样只能说明是手机GPS模块的问题。

但是在关掉移动信号和Wifi的情况下（排除基站、Wifi等辅助定位），依然可以使用微信定位功能，说明GPS模块硬件本身没问题。下载GPS Test检测了下GPS信号，所有卫星的CNR（载噪比）都是0，GNSS状态显示NO FIX，说明接收GPS信号存在异常。但是通过GPS Test同时可以清空和重载AGPS数据。

AGPS是辅助全球定位系统，其数据相当于GPS信号的缓存，手机系统会自动更新AGPS数据，早些年我在[《定位系统那些事儿》](https://www.freebuf.com/articles/wireless/21519.html)中有过介绍：

> 由于在城市中，GPS卫星发出的信号会受到包括电离层、建筑物、植被的削弱及多径效应的干扰，导致GPS接收器接收到的GPS信号非常弱。一些GPS接收器在贫弱的GPS信号下无法实现定位，只有在持续一定时间地接受清晰的GPS信号时才能进行定位，且定位时长可达12.5分钟，故需要利用手机基站信号，配合GPS信号进行定位，从而让定位速度更快。 在蜂窝移动通信系统中，AGPS系统通过手机定位服务器作为辅助服务器来协助GPS接收器（通常是手机）完成测距和定位服务，辅助定位服务器有比GPS接收器强大得多的GPS信号接收环境和能力，在这种情况下，辅助定位服务器通过网络与手机的GPS接收器通信而提供定位协助。

因为墙的缘故，GPS Test的AGPS数据重载功能并不好用，最后选择一款叫GPS DATA的APP，在室外空旷处（室内会影响接收）清空和重载AGPS数据，几分钟后就显示可以搜索并锁定卫星信号了。

![GPS DATA](images/2020/05/GPS_Test.jpg 'GPS DATA')

再次打开高德地图导航，林志玲羸弱的“GPS信号弱”便听不到了。